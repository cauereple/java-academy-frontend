<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>

    <!-- carica jQuery (libreria javascript)  -->
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>


    <!-- carica bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <script src="js/lib.js"></script>

    <!-- carico il mio file di style (css) -->
    <link href="css/mystyle.css" rel="stylesheet">


    <script>

        /* in javascript i commenti sono come in java
           è un linguaggio case sensitive non tipizzato
           trovo in js tutti i concetti della programmazione (ma non è un linguaggio OOP)
           + alcuni oggetti già pronti
           javascript può accedere ai html e gestire eventi 
        */

        var a = 10

        var tot = 0
        for (i = 0; i < a; i++) {
            let b = 5;  // variabile locale
            tot += i;
        }

        console.log(tot)
        //  console.log(b) // qui b non è accessibile
        // alert(tot)


        function calcola() {
            var a = 10

            var tot = 0
            for (i = 0; i < a; i++) {
                let b = 5;  // variabile locale
                tot += i;
            }
            // document.getElementById("totale").innerHTML = tot   
            $("#totale").html(tot)
        }

        function caricaDati()
        {
            /*
                per fare una chiamata ad un'applicazione esterna a questa occorre che l'applicazione esterna
                abiliti a risponde a chiamate esterne
                Diversamente lato client avremo un problema di CORS
                Rimandiamo la chiamata ad Angular
            */
            $.ajax({
                sync: true,
                method: "GET",
                // url: "http://localhost:8050/utenti/all"
                url: "https://jsonplaceholder.typicode.com/users"

            })
            .done(function(dati){                
                console.log(dati);                                                
            })
        }

       

    </script>

</head>

<body>

    <div class="container">
        <!-- html è composto da tag block-level (alla chiusura del tag il cursore va a capo) e tag in-line -->

        <!--
        <nav id="menu">

            <a href="utenti.html">Gestione utenti</a> &nbsp;&nbsp;&nbsp;            
            <a href="post.html">Gestione post</a>

        </nav>
        -->

        <header></header>

        <h1 id="titolo">Gestione utenti</h1>
        <hr>

        <div id="totale"></div>

        <div id="utenti"></div>

        <!-- button è un tag in-line -->
        <button class="btn btn-primary" onclick="calcola()">Calcola totale</button>
        <button class="btn btn-primary" onclick="caricaDati()">Carica dati dal web Service Spring</button>


        <div id="dati">
            <table class="table table-striped table-sm" id="tabellaDati">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Cognome</th>
                        <th>email</th>
                        <th>Città</th>
                    </tr>
                </thead>
                <tr>
                    <td>Mario</td>
                    <td>Rossi</td>
                    <td>info@xxx.com</td>
                    <td>Milano</td>
                </tr>
                <tr>
                    <td>Marina</td>
                    <td>Rossetti</td>
                    <td>info@yyy.com</td>
                    <td>Roma</td>
                </tr>                
                <tr>
                    <td>Marina</td>
                    <td>Rossetti</td>
                    <td>info@yyy.com</td>
                    <td>Roma</td>
                </tr>
                <tr>
                    <td colspan="4">sdjkfh sfjk </td>
                </tr>
            </table>
        </div>


        <div id = "login">

            <form class="form-horizontal">
                <fieldset>
                
                <!-- Form Name -->
                <legend>Form Name</legend>
                
                <!-- Text input-->
                <div class="form-group">
                  <label class="col-md-4 control-label" for="email"></label>  
                  <div class="col-md-5">
                  <input id="email" name="email" type="text" placeholder="digitare email" class="form-control input-md">
                    
                  </div>
                </div>
                
                <!-- Password input-->
                <div class="form-group">
                  <label class="col-md-4 control-label" for="password"></label>
                  <div class="col-md-5">
                    <input id="password" name="password" type="password" placeholder="password" class="form-control input-md">
                    
                  </div>
                </div>
                
                <!-- Button (Double) -->
                <div class="form-group">
                  <label class="col-md-4 control-label" for="button1id"></label>
                  <div class="col-md-8">
                    <button id="button1id" name="button1id" class="btn btn-primary">Invia</button>
                    <button id="button2id" name="button2id" class="btn btn-info">Annulla</button>
                  </div>
                </div>
                
                </fieldset>
                </form>
                

        </div>


    </div>



    <script>
        // document.getElementById("totale").innerHTML = tot 
        init();       
    </script>

</body>

<script>

</script>

</html>